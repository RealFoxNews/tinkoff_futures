'use strict';const _0x32f31c=_0x1e5e;(function(_0x161d93,_0xd9b940){const _0x2dda6b=_0x1e5e,_0x491e63=_0x161d93();while(!![]){try{const _0x5be9a8=parseInt(_0x2dda6b(0x1a6))/0x1*(-parseInt(_0x2dda6b(0x18a))/0x2)+-parseInt(_0x2dda6b(0x189))/0x3*(-parseInt(_0x2dda6b(0x1a3))/0x4)+-parseInt(_0x2dda6b(0x19e))/0x5*(parseInt(_0x2dda6b(0x1a0))/0x6)+-parseInt(_0x2dda6b(0x1a2))/0x7*(parseInt(_0x2dda6b(0x18e))/0x8)+-parseInt(_0x2dda6b(0x186))/0x9+parseInt(_0x2dda6b(0x1a5))/0xa+parseInt(_0x2dda6b(0x183))/0xb;if(_0x5be9a8===_0xd9b940)break;else _0x491e63['push'](_0x491e63['shift']());}catch(_0x4732ac){_0x491e63['push'](_0x491e63['shift']());}}}(_0x36d4,0x47b5b));function _0x1e5e(_0x1fad8,_0x542643){const _0x36d423=_0x36d4();return _0x1e5e=function(_0x1e5ed3,_0x1d7f3d){_0x1e5ed3=_0x1e5ed3-0x183;let _0x3516d2=_0x36d423[_0x1e5ed3];return _0x3516d2;},_0x1e5e(_0x1fad8,_0x542643);}var __decorate=this&&this['__decorate']||function(_0x285c01,_0x320782,_0x17f57e,_0x1fb18f){const _0x4ec640=_0x1e5e;var _0x9e78eb=arguments[_0x4ec640(0x1a9)],_0x431e89=_0x9e78eb<0x3?_0x320782:_0x1fb18f===null?_0x1fb18f=Object[_0x4ec640(0x18b)](_0x320782,_0x17f57e):_0x1fb18f,_0x12f129;if(typeof Reflect===_0x4ec640(0x18d)&&typeof Reflect[_0x4ec640(0x1aa)]===_0x4ec640(0x187))_0x431e89=Reflect[_0x4ec640(0x1aa)](_0x285c01,_0x320782,_0x17f57e,_0x1fb18f);else{for(var _0x34aa11=_0x285c01[_0x4ec640(0x1a9)]-0x1;_0x34aa11>=0x0;_0x34aa11--)if(_0x12f129=_0x285c01[_0x34aa11])_0x431e89=(_0x9e78eb<0x3?_0x12f129(_0x431e89):_0x9e78eb>0x3?_0x12f129(_0x320782,_0x17f57e,_0x431e89):_0x12f129(_0x320782,_0x17f57e))||_0x431e89;}return _0x9e78eb>0x3&&_0x431e89&&Object[_0x4ec640(0x1a4)](_0x320782,_0x17f57e,_0x431e89),_0x431e89;},__metadata=this&&this[_0x32f31c(0x190)]||function(_0x53f90c,_0x251776){const _0x37b669=_0x32f31c;if(typeof Reflect===_0x37b669(0x18d)&&typeof Reflect[_0x37b669(0x1ae)]===_0x37b669(0x187))return Reflect[_0x37b669(0x1ae)](_0x53f90c,_0x251776);},__param=this&&this['__param']||function(_0x10629c,_0xdb9913){return function(_0x528a27,_0x251fbb){_0xdb9913(_0x528a27,_0x251fbb,_0x10629c);};};Object[_0x32f31c(0x1a4)](exports,_0x32f31c(0x196),{'value':!![]}),exports[_0x32f31c(0x1af)]=void 0x0;const websockets_1=require(_0x32f31c(0x18f)),rxjs_1=require(_0x32f31c(0x1ab)),ws_1=require('ws'),trader_1=require(_0x32f31c(0x195)),https_1=require(_0x32f31c(0x19a)),fs_1=require('fs');let ApiGateway=class ApiGateway{constructor(_0x1a08b8){const _0x4aa986=_0x32f31c;this[_0x4aa986(0x193)]=_0x1a08b8;}[_0x32f31c(0x18c)](){const _0x38ce3a=_0x32f31c,_0x143c9e={'key':(0x0,fs_1[_0x38ce3a(0x199)])(_0x38ce3a(0x19b)),'cert':(0x0,fs_1[_0x38ce3a(0x199)])('./ssl/cert.pem')},_0x52113a=(0x0,https_1[_0x38ce3a(0x19c)])(_0x143c9e);_0x52113a[_0x38ce3a(0x1a1)](0x1f90),this[_0x38ce3a(0x184)]=new ws_1[(_0x38ce3a(0x198))]({'server':_0x52113a}),this['server']['on']('connection',_0x4c27b4=>{const _0x2f3c38=_0x38ce3a;console[_0x2f3c38(0x1b1)](_0x2f3c38(0x1a7));});}['findAll'](_0x57d324){const _0x12c0ef=_0x32f31c;return(0x0,rxjs_1['merge'])((0x0,rxjs_1[_0x12c0ef(0x1a8)])([{'status':_0x12c0ef(0x1ad),'alive':!!this[_0x12c0ef(0x193)][_0x12c0ef(0x1ad)]},{'status':_0x12c0ef(0x185),'alive':!!this['trader'][_0x12c0ef(0x185)]}]),this['trader']['status'])[_0x12c0ef(0x19f)]((0x0,rxjs_1[_0x12c0ef(0x1ac)])(_0x4ee784=>({'event':_0x12c0ef(0x1ad),'data':_0x4ee784})));}};__decorate([(0x0,websockets_1[_0x32f31c(0x19d)])(),__metadata(_0x32f31c(0x188),ws_1[_0x32f31c(0x198)])],ApiGateway[_0x32f31c(0x194)],'server',void 0x0),__decorate([(0x0,websockets_1[_0x32f31c(0x197)])(_0x32f31c(0x1ad)),__param(0x0,(0x0,websockets_1[_0x32f31c(0x192)])()),__metadata(_0x32f31c(0x188),Function),__metadata('design:paramtypes',[Object]),__metadata(_0x32f31c(0x191),void 0x0)],ApiGateway[_0x32f31c(0x194)],'findAll',null),ApiGateway=__decorate([(0x0,websockets_1['WebSocketGateway'])(),__metadata('design:paramtypes',[trader_1[_0x32f31c(0x1b0)]])],ApiGateway),exports['ApiGateway']=ApiGateway;function _0x36d4(){const _0x18cafb=['1381410BmLkQt','function','design:type','6zCvTkU','4cXPCPL','getOwnPropertyDescriptor','afterInit','object','6712DYZbei','@nestjs/websockets','__metadata','design:returntype','MessageBody','trader','prototype','./trader/trader/trader','__esModule','SubscribeMessage','Server','readFileSync','https','./ssl/key.pem','createServer','WebSocketServer','30DnHFLI','pipe','366378RtTUSv','listen','1526EGymbf','707332DWoCQg','defineProperty','1431330ZoPhWC','285812pvxmIZ','Новое\x20wss\x20соединение\x20установлено','from','length','decorate','rxjs','map','api','metadata','ApiGateway','Trader','log','11784498aCeDNe','server','wallet'];_0x36d4=function(){return _0x18cafb;};return _0x36d4();}