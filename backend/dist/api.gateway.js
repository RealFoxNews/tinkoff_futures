'use strict';const _0x17bf84=_0x5007;(function(_0x5a8fac,_0x227366){const _0x594137=_0x5007,_0x1b1be1=_0x5a8fac();while(!![]){try{const _0x1b6cca=-parseInt(_0x594137(0xd5))/0x1*(parseInt(_0x594137(0xe9))/0x2)+-parseInt(_0x594137(0xfb))/0x3*(-parseInt(_0x594137(0xec))/0x4)+-parseInt(_0x594137(0xe6))/0x5+-parseInt(_0x594137(0xe7))/0x6+parseInt(_0x594137(0xf7))/0x7+-parseInt(_0x594137(0xd9))/0x8*(parseInt(_0x594137(0xf6))/0x9)+parseInt(_0x594137(0xf2))/0xa*(parseInt(_0x594137(0xe3))/0xb);if(_0x1b6cca===_0x227366)break;else _0x1b1be1['push'](_0x1b1be1['shift']());}catch(_0x151289){_0x1b1be1['push'](_0x1b1be1['shift']());}}}(_0x1fc2,0x5503c));function _0x5007(_0x54694b,_0x611066){const _0x1fc2ca=_0x1fc2();return _0x5007=function(_0x5007be,_0x2d806e){_0x5007be=_0x5007be-0xd1;let _0x1efd08=_0x1fc2ca[_0x5007be];return _0x1efd08;},_0x5007(_0x54694b,_0x611066);}var __decorate=this&&this[_0x17bf84(0xd4)]||function(_0x4547d1,_0x33717c,_0x30480d,_0x33aa72){const _0x394d31=_0x17bf84;var _0x2eec80=arguments[_0x394d31(0xeb)],_0x39bedd=_0x2eec80<0x3?_0x33717c:_0x33aa72===null?_0x33aa72=Object[_0x394d31(0xe2)](_0x33717c,_0x30480d):_0x33aa72,_0x360801;if(typeof Reflect===_0x394d31(0xed)&&typeof Reflect[_0x394d31(0xf3)]===_0x394d31(0xda))_0x39bedd=Reflect[_0x394d31(0xf3)](_0x4547d1,_0x33717c,_0x30480d,_0x33aa72);else{for(var _0x3a8e65=_0x4547d1[_0x394d31(0xeb)]-0x1;_0x3a8e65>=0x0;_0x3a8e65--)if(_0x360801=_0x4547d1[_0x3a8e65])_0x39bedd=(_0x2eec80<0x3?_0x360801(_0x39bedd):_0x2eec80>0x3?_0x360801(_0x33717c,_0x30480d,_0x39bedd):_0x360801(_0x33717c,_0x30480d))||_0x39bedd;}return _0x2eec80>0x3&&_0x39bedd&&Object[_0x394d31(0x100)](_0x33717c,_0x30480d,_0x39bedd),_0x39bedd;},__metadata=this&&this[_0x17bf84(0x101)]||function(_0x57d188,_0x413436){const _0x1777b2=_0x17bf84;if(typeof Reflect===_0x1777b2(0xed)&&typeof Reflect[_0x1777b2(0xd3)]===_0x1777b2(0xda))return Reflect[_0x1777b2(0xd3)](_0x57d188,_0x413436);},__param=this&&this[_0x17bf84(0x102)]||function(_0x20e82e,_0x3f001e){return function(_0x3a4046,_0x40c94b){_0x3f001e(_0x3a4046,_0x40c94b,_0x20e82e);};};Object[_0x17bf84(0x100)](exports,_0x17bf84(0xdc),{'value':!![]}),exports['ApiGateway']=void 0x0;const websockets_1=require(_0x17bf84(0xd8)),rxjs_1=require('rxjs'),ws_1=require('ws'),trader_1=require(_0x17bf84(0xea)),https_1=require(_0x17bf84(0xf9)),fs_1=require('fs');function _0x1fc2(){const _0x50c699=['getOwnPropertyDescriptor','1485187uLmToT','design:paramtypes','pipe','1843800SHCyhr','531978eNWMzW','connection','134AiBppf','./trader/trader/trader','length','872iDZLRf','object','design:type','log','Server','from','30tctctu','decorate','./ssl/cert.pem','findAll','279moyjul','3598952BuZAYE','server','https','createServer','9003Dhgcfw','trader','ApiGateway','prototype','api','defineProperty','__metadata','__param','WebSocketGateway','wallet','listen','SubscribeMessage','metadata','__decorate','6073IWLZLq','afterInit','map','@nestjs/websockets','93128PdJHck','function','readFileSync','__esModule','Новое\x20wss\x20соединение\x20установлено','merge','./ssl/key.pem','WebSocketServer','design:returntype'];_0x1fc2=function(){return _0x50c699;};return _0x1fc2();}let ApiGateway=class ApiGateway{constructor(_0x499802){const _0x48bb2c=_0x17bf84;this[_0x48bb2c(0xfc)]=_0x499802;}[_0x17bf84(0xd6)](){const _0x1dca05=_0x17bf84,_0x572d4f={'key':(0x0,fs_1[_0x1dca05(0xdb)])(_0x1dca05(0xdf)),'cert':(0x0,fs_1[_0x1dca05(0xdb)])(_0x1dca05(0xf4))},_0x2d5a49=(0x0,https_1[_0x1dca05(0xfa)])(_0x572d4f);_0x2d5a49[_0x1dca05(0xd1)](0x1f90),this[_0x1dca05(0xf8)]=new ws_1[(_0x1dca05(0xf0))]({'server':_0x2d5a49}),this['server']['on'](_0x1dca05(0xe8),_0x1af401=>{const _0x304e7c=_0x1dca05;console[_0x304e7c(0xef)](_0x304e7c(0xdd));});}[_0x17bf84(0xf5)](_0x66dcb){const _0x4451e6=_0x17bf84;return(0x0,rxjs_1[_0x4451e6(0xde)])((0x0,rxjs_1[_0x4451e6(0xf1)])([{'status':_0x4451e6(0xff),'alive':!!this[_0x4451e6(0xfc)]['api']},{'status':_0x4451e6(0x104),'alive':!!this[_0x4451e6(0xfc)][_0x4451e6(0x104)]}]),this['trader']['status'])[_0x4451e6(0xe5)]((0x0,rxjs_1[_0x4451e6(0xd7)])(_0x4b1378=>({'event':_0x4451e6(0xff),'data':_0x4b1378})));}};__decorate([(0x0,websockets_1[_0x17bf84(0xe0)])(),__metadata('design:type',ws_1[_0x17bf84(0xf0)])],ApiGateway[_0x17bf84(0xfe)],_0x17bf84(0xf8),void 0x0),__decorate([(0x0,websockets_1[_0x17bf84(0xd2)])(_0x17bf84(0xff)),__param(0x0,(0x0,websockets_1['MessageBody'])()),__metadata(_0x17bf84(0xee),Function),__metadata(_0x17bf84(0xe4),[Object]),__metadata(_0x17bf84(0xe1),void 0x0)],ApiGateway[_0x17bf84(0xfe)],_0x17bf84(0xf5),null),ApiGateway=__decorate([(0x0,websockets_1[_0x17bf84(0x103)])(),__metadata('design:paramtypes',[trader_1['Trader']])],ApiGateway),exports[_0x17bf84(0xfd)]=ApiGateway;