'use strict';const _0x1e0b85=_0x287b;(function(_0x4efec7,_0x438f1e){const _0x3f24d4=_0x287b,_0x4a1538=_0x4efec7();while(!![]){try{const _0x228404=-parseInt(_0x3f24d4(0x19e))/0x1*(parseInt(_0x3f24d4(0x19c))/0x2)+-parseInt(_0x3f24d4(0x1a1))/0x3+-parseInt(_0x3f24d4(0x19d))/0x4+parseInt(_0x3f24d4(0x1ab))/0x5*(parseInt(_0x3f24d4(0x1b9))/0x6)+parseInt(_0x3f24d4(0x199))/0x7+-parseInt(_0x3f24d4(0x191))/0x8+parseInt(_0x3f24d4(0x1aa))/0x9*(parseInt(_0x3f24d4(0x1a2))/0xa);if(_0x228404===_0x438f1e)break;else _0x4a1538['push'](_0x4a1538['shift']());}catch(_0x147302){_0x4a1538['push'](_0x4a1538['shift']());}}}(_0x15d8,0xc4ad9));function _0x287b(_0x470360,_0x3c31ce){const _0x15d85c=_0x15d8();return _0x287b=function(_0x287bfa,_0x4e4cb4){_0x287bfa=_0x287bfa-0x18c;let _0x5cd803=_0x15d85c[_0x287bfa];return _0x5cd803;},_0x287b(_0x470360,_0x3c31ce);}Object[_0x1e0b85(0x1b0)](exports,'__esModule',{'value':!![]}),exports[_0x1e0b85(0x1a3)]=void 0x0;const fs=require('fs'),path=require(_0x1e0b85(0x1a5)),rxjs_1=require(_0x1e0b85(0x1a0)),base_config_1=require(_0x1e0b85(0x1b7)),instruments_1=require(_0x1e0b85(0x18d)),merge_util_1=require('../../utils/merge.util');class BaseTrader{constructor(){const _0x4b2ad4=_0x1e0b85;this[_0x4b2ad4(0x18e)]=new rxjs_1[(_0x4b2ad4(0x18f))](),this[_0x4b2ad4(0x18e)][_0x4b2ad4(0x1b2)]({'status':_0x4b2ad4(0x1b5),'alive':![]}),this[_0x4b2ad4(0x18e)][_0x4b2ad4(0x1b2)]({'status':_0x4b2ad4(0x192),'alive':![]});}[_0x1e0b85(0x18c)](){const _0x3586a6=_0x1e0b85;this[_0x3586a6(0x1b1)]=(0x0,merge_util_1[_0x3586a6(0x19b)])(base_config_1[_0x3586a6(0x19f)],JSON['parse'](fs['readFileSync'](path[_0x3586a6(0x196)](__dirname,'..','..','..','..',_0x3586a6(0x194)))[_0x3586a6(0x1ae)]()));}[_0x1e0b85(0x193)](_0x27bb01){const _0x111c9e=_0x1e0b85;this['options']=(0x0,merge_util_1[_0x111c9e(0x19b)])(this[_0x111c9e(0x1b1)],_0x27bb01);}[_0x1e0b85(0x1af)](){const _0x428607=_0x1e0b85;this[_0x428607(0x18e)][_0x428607(0x1b2)]({'status':_0x428607(0x1b5),'alive':!![]}),console[_0x428607(0x1b6)](_0x428607(0x1ad),_0x428607(0x1a6),_0x428607(0x1b3));}[_0x1e0b85(0x190)](){const _0x6192b3=_0x1e0b85;this[_0x6192b3(0x1b5)]=undefined,this[_0x6192b3(0x18e)]['next']({'status':'api','alive':![]}),console[_0x6192b3(0x1b6)]('\x1b[31m',_0x6192b3(0x198),_0x6192b3(0x1b3));}[_0x1e0b85(0x1a4)](){const _0x2b6e84=_0x1e0b85;this[_0x2b6e84(0x18e)]['next']({'status':_0x2b6e84(0x192),'alive':!![]});}[_0x1e0b85(0x1a9)](){const _0x5503d7=_0x1e0b85;var _0x23c520;(_0x23c520=this['wallet'])===null||_0x23c520===void 0x0?void 0x0:_0x23c520[_0x5503d7(0x1b4)](),this[_0x5503d7(0x192)]=undefined,this[_0x5503d7(0x18e)][_0x5503d7(0x1b2)]({'status':_0x5503d7(0x192),'alive':![]});}async['getAccounts'](){const _0x401e4f=_0x1e0b85;console[_0x401e4f(0x1b6)](this[_0x401e4f(0x1b5)]);if(!this[_0x401e4f(0x1b5)])return null;const {accounts:_0x21b4d1}=await this[_0x401e4f(0x1b5)][_0x401e4f(0x1a7)][_0x401e4f(0x1a8)]({});return console[_0x401e4f(0x1b6)](_0x21b4d1),_0x21b4d1;}async['getShares'](){const _0x38444d=_0x1e0b85;if(!this[_0x38444d(0x1b5)])return null;const _0x3b9b57=await this[_0x38444d(0x1b5)][_0x38444d(0x19a)][_0x38444d(0x1ac)]({'instrumentStatus':instruments_1[_0x38444d(0x197)][_0x38444d(0x1b8)]});return _0x3b9b57[_0x38444d(0x19a)];}['getShares$'](){const _0xf22396=_0x1e0b85;return(0x0,rxjs_1[_0xf22396(0x195)])(this['getShares']());}}exports[_0x1e0b85(0x1a3)]=BaseTrader;function _0x15d8(){const _0xff47f9=['InstrumentStatus','Апи\x20выключено','3352083iHUTku','instruments','merge','4jubXMR','654388hEYIWt','311223lrmDxN','BASE_CONFIG','rxjs','4110255TIrgMv','647620aPDNSn','BaseTrader','onOpenWallet','path','Апи\x20запущено','users','getAccounts','onCloseWallet','270eqfHIb','3258690TLKlCI','futures','\x1b[36m%s\x1b[0m','toString','onOpenApi','defineProperty','options','next','\x1b[37m','stop','api','log','../../models/base.config','INSTRUMENT_STATUS_BASE','6IOAtDH','initializeOptions','tinkoff-invest-api/cjs/generated/instruments','status','Subject','onCloseApi','893968usRiHu','wallet','reloadOptions','config.json','from','join'];_0x15d8=function(){return _0xff47f9;};return _0x15d8();}