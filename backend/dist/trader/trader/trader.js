'use strict';function _0x5bec(_0xa0d8bc,_0x3c2089){const _0x1fe6e8=_0x1fe6();return _0x5bec=function(_0x5bec89,_0x5aecd3){_0x5bec89=_0x5bec89-0x192;let _0x141b20=_0x1fe6e8[_0x5bec89];return _0x141b20;},_0x5bec(_0xa0d8bc,_0x3c2089);}const _0x28e1d8=_0x5bec;(function(_0x5a1bf3,_0x5bf3b1){const _0x4d891d=_0x5bec,_0x182d46=_0x5a1bf3();while(!![]){try{const _0x56d498=-parseInt(_0x4d891d(0x1ba))/0x1*(parseInt(_0x4d891d(0x1c7))/0x2)+parseInt(_0x4d891d(0x1d4))/0x3*(parseInt(_0x4d891d(0x1b4))/0x4)+parseInt(_0x4d891d(0x1c9))/0x5+-parseInt(_0x4d891d(0x19b))/0x6*(-parseInt(_0x4d891d(0x1cc))/0x7)+-parseInt(_0x4d891d(0x195))/0x8+-parseInt(_0x4d891d(0x1e4))/0x9+parseInt(_0x4d891d(0x1ce))/0xa*(parseInt(_0x4d891d(0x1e0))/0xb);if(_0x56d498===_0x5bf3b1)break;else _0x182d46['push'](_0x182d46['shift']());}catch(_0x6881d9){_0x182d46['push'](_0x182d46['shift']());}}}(_0x1fe6,0x4c88e));function _0x1fe6(){const _0x43b85b=['stopStratagies','BaseTrader','enabled','ShareClose','initializeApi','unWatch','Wallet','sharesDrop','settings','apiKey','options','shareDividends$','__esModule','shareReports$','./classes/wallet','startTrading','Api','shareHalts','design:paramtypes','../api/api','104nKIPTX','./services/share.dividents','Стратегии\x20запущены','\x1b[37m','reloadOptions','then','321063rgzAnz','Стратегия\x20СЛЕЗА:\x20запущена','__decorate','shareDividends','stop','length','./classes/trader.base.class','stopTrading','Trader','accountId','./services/share.reports','stopApi','@nestjs/common','2dRGPsB','decorate','844420lIMiJd','object','shareHalts$','3640973JogwQU','api','3188890oWgXVk','../stratagies/drop.shares','shareFDA$','metadata','function','start','68583VvZcaF','defineProperty','\x1b[31m','./services/share.halts','stoped','drop','Injectable','ShareHalts','wallet','ShareDividends','__metadata','initializeOptions','11ZGeWMi','onCloseWallet','ShareFda','shareFDA','4874742sPMecA','./services/share.close','Стратегия\x20СЛЕЗА:\x20выключена','onOpenWallet','shareReports','./services/share.fda','3408888ovBIWX','initializeTrading','\x1b[36m%s\x1b[0m','onCloseApi','startStratagies','DropShares','6KuLCMH','ShareReports','watch','shareClose','log'];_0x1fe6=function(){return _0x43b85b;};return _0x1fe6();}var __decorate=this&&this[_0x28e1d8(0x1bc)]||function(_0x26220b,_0x50cc56,_0x478795,_0x1aaa2f){const _0x558137=_0x28e1d8;var _0x46f133=arguments[_0x558137(0x1bf)],_0x45b785=_0x46f133<0x3?_0x50cc56:_0x1aaa2f===null?_0x1aaa2f=Object['getOwnPropertyDescriptor'](_0x50cc56,_0x478795):_0x1aaa2f,_0x453c9b;if(typeof Reflect===_0x558137(0x1ca)&&typeof Reflect[_0x558137(0x1c8)]===_0x558137(0x1d2))_0x45b785=Reflect[_0x558137(0x1c8)](_0x26220b,_0x50cc56,_0x478795,_0x1aaa2f);else{for(var _0x48957b=_0x26220b['length']-0x1;_0x48957b>=0x0;_0x48957b--)if(_0x453c9b=_0x26220b[_0x48957b])_0x45b785=(_0x46f133<0x3?_0x453c9b(_0x45b785):_0x46f133>0x3?_0x453c9b(_0x50cc56,_0x478795,_0x45b785):_0x453c9b(_0x50cc56,_0x478795))||_0x45b785;}return _0x46f133>0x3&&_0x45b785&&Object[_0x558137(0x1d5)](_0x50cc56,_0x478795,_0x45b785),_0x45b785;},__metadata=this&&this[_0x28e1d8(0x1de)]||function(_0x1e31d4,_0x2a53c0){const _0x56769c=_0x28e1d8;if(typeof Reflect===_0x56769c(0x1ca)&&typeof Reflect[_0x56769c(0x1d1)]==='function')return Reflect[_0x56769c(0x1d1)](_0x1e31d4,_0x2a53c0);};Object['defineProperty'](exports,_0x28e1d8(0x1ac),{'value':!![]}),exports[_0x28e1d8(0x1c2)]=void 0x0;const common_1=require(_0x28e1d8(0x1c6)),api_1=require(_0x28e1d8(0x1b3)),drop_shares_1=require(_0x28e1d8(0x1cf)),trader_base_class_1=require(_0x28e1d8(0x1c0)),wallet_1=require(_0x28e1d8(0x1ae)),share_close_1=require(_0x28e1d8(0x1e5)),share_dividents_1=require(_0x28e1d8(0x1b5)),share_fda_1=require(_0x28e1d8(0x194)),share_halts_1=require(_0x28e1d8(0x1d7)),share_reports_1=require(_0x28e1d8(0x1c4));let Trader=class Trader extends trader_base_class_1[_0x28e1d8(0x1a1)]{constructor(_0xeb56ab,_0x26d923,_0x10c870,_0x408d2a,_0x313abe){const _0x40cefe=_0x28e1d8;super(),this['shareDividends']=_0xeb56ab,this[_0x40cefe(0x1e3)]=_0x26d923,this[_0x40cefe(0x1b1)]=_0x10c870,this[_0x40cefe(0x193)]=_0x408d2a,this[_0x40cefe(0x19e)]=_0x313abe,this[_0x40cefe(0x1af)]()[_0x40cefe(0x1b9)]();}async[_0x28e1d8(0x1af)](){const _0x3c1766=_0x28e1d8;this[_0x3c1766(0x1df)](),this['stopStratagies'](),await this[_0x3c1766(0x1c5)](),await this[_0x3c1766(0x1a4)](this[_0x3c1766(0x1aa)]),await this[_0x3c1766(0x1c1)](),await this[_0x3c1766(0x196)](this[_0x3c1766(0x1aa)]);}async[_0x28e1d8(0x1a4)](_0xcab092){const _0x5b1c27=_0x28e1d8;var _0x3beba2;if((_0x3beba2=_0xcab092===null||_0xcab092===void 0x0?void 0x0:_0xcab092[_0x5b1c27(0x1a8)])===null||_0x3beba2===void 0x0?void 0x0:_0x3beba2[_0x5b1c27(0x1a9)]){this['api']=new api_1[(_0x5b1c27(0x1b0))]({'token':_0xcab092[_0x5b1c27(0x1a8)][_0x5b1c27(0x1a9)]}),this['onOpenApi']();const _0x1bd4dc=await this['getShares']();this[_0x5b1c27(0x1ab)]=this['shareDividends']['watch']([]),this[_0x5b1c27(0x1d0)]=this[_0x5b1c27(0x1e3)][_0x5b1c27(0x19d)]([]),this[_0x5b1c27(0x1cb)]=this[_0x5b1c27(0x1b1)][_0x5b1c27(0x19d)]([]),this[_0x5b1c27(0x1ad)]=this[_0x5b1c27(0x193)][_0x5b1c27(0x19d)]([]);}}async[_0x28e1d8(0x1c5)](){const _0x5b9eb4=_0x28e1d8;this[_0x5b9eb4(0x1bd)][_0x5b9eb4(0x1a5)](),this[_0x5b9eb4(0x1e3)][_0x5b9eb4(0x1a5)](),this[_0x5b9eb4(0x1b1)][_0x5b9eb4(0x1a5)](),this[_0x5b9eb4(0x193)][_0x5b9eb4(0x1a5)](),this[_0x5b9eb4(0x198)]();}async[_0x28e1d8(0x196)](_0x261f67){const _0x9f468e=_0x28e1d8;if(!this[_0x9f468e(0x1cd)]||!_0x261f67[_0x9f468e(0x1a8)]['accountId'])return;this[_0x9f468e(0x1dc)]=new wallet_1[(_0x9f468e(0x1a6))](this[_0x9f468e(0x1cd)],_0x261f67[_0x9f468e(0x1a8)][_0x9f468e(0x1c3)],this[_0x9f468e(0x1aa)]),await this['wallet']['init'](),await this[_0x9f468e(0x199)](),this[_0x9f468e(0x192)](),console[_0x9f468e(0x19f)](_0x9f468e(0x197),_0x9f468e(0x1b6),'\x1b[37m');}async[_0x28e1d8(0x1c1)](){const _0x1b5a59=_0x28e1d8;this[_0x1b5a59(0x1e1)](),this['stopStratagies'](),console[_0x1b5a59(0x19f)](_0x1b5a59(0x1d6),'Стратегии\x20выключены','\x1b[37m');}async[_0x28e1d8(0x199)](){const _0x5c0a45=_0x28e1d8;this[_0x5c0a45(0x1a7)]=new drop_shares_1[(_0x5c0a45(0x19a))](this[_0x5c0a45(0x1cd)],this[_0x5c0a45(0x1aa)][_0x5c0a45(0x1d9)],this[_0x5c0a45(0x1dc)]),this[_0x5c0a45(0x1aa)]['drop'][_0x5c0a45(0x1a2)]&&(await this[_0x5c0a45(0x1a7)][_0x5c0a45(0x1d3)](this[_0x5c0a45(0x1ab)],this['shareFDA$'],this[_0x5c0a45(0x1cb)],this[_0x5c0a45(0x1ad)]),console[_0x5c0a45(0x19f)]('\x1b[36m%s\x1b[0m',_0x5c0a45(0x1bb),_0x5c0a45(0x1b7)));}[_0x28e1d8(0x1a0)](){const _0x3bc85b=_0x28e1d8;this[_0x3bc85b(0x1a7)]&&this[_0x3bc85b(0x1a7)][_0x3bc85b(0x1be)]();}['reloadOptions'](_0x1ba01a){const _0x207753=_0x28e1d8;var _0x2b9419,_0x3153e8,_0x2d34a9,_0x549778,_0x2de960,_0x31ef0e,_0x5a64cd,_0x2db644,_0x180da6;const _0x3dd1c8=(_0x3153e8=(_0x2b9419=this[_0x207753(0x1aa)])===null||_0x2b9419===void 0x0?void 0x0:_0x2b9419[_0x207753(0x1a8)])===null||_0x3153e8===void 0x0?void 0x0:_0x3153e8[_0x207753(0x1a9)],_0x57a46e=(_0x549778=(_0x2d34a9=this['options'])===null||_0x2d34a9===void 0x0?void 0x0:_0x2d34a9[_0x207753(0x1a8)])===null||_0x549778===void 0x0?void 0x0:_0x549778['accountId'];super[_0x207753(0x1b8)](_0x1ba01a);if(((_0x31ef0e=(_0x2de960=this[_0x207753(0x1aa)])===null||_0x2de960===void 0x0?void 0x0:_0x2de960['settings'])===null||_0x31ef0e===void 0x0?void 0x0:_0x31ef0e[_0x207753(0x1a9)])!==_0x3dd1c8||((_0x2db644=(_0x5a64cd=this[_0x207753(0x1aa)])===null||_0x5a64cd===void 0x0?void 0x0:_0x5a64cd[_0x207753(0x1a8)])===null||_0x2db644===void 0x0?void 0x0:_0x2db644[_0x207753(0x1c3)])!==_0x57a46e){this[_0x207753(0x1af)]()[_0x207753(0x1b9)]();return;}(_0x180da6=this[_0x207753(0x1a7)])===null||_0x180da6===void 0x0?void 0x0:_0x180da6[_0x207753(0x1b8)](this[_0x207753(0x1aa)][_0x207753(0x1d9)]),this[_0x207753(0x1a7)]&&(!_0x1ba01a[_0x207753(0x1d9)]['enabled']&&!this[_0x207753(0x1a7)][_0x207753(0x1d8)]&&(this[_0x207753(0x1a7)][_0x207753(0x1be)](),console[_0x207753(0x19f)]('\x1b[36m%s\x1b[0m',_0x207753(0x1e6),'\x1b[37m')),_0x1ba01a[_0x207753(0x1d9)]['enabled']&&this[_0x207753(0x1a7)]['stoped']&&(this[_0x207753(0x1a7)][_0x207753(0x1d3)](this['shareDividends$'],this['shareFDA$'],this['shareHalts$'],this[_0x207753(0x1ad)])[_0x207753(0x1b9)](),console[_0x207753(0x19f)](_0x207753(0x197),_0x207753(0x1bb),_0x207753(0x1b7))));}};Trader=__decorate([(0x0,common_1[_0x28e1d8(0x1da)])(),__metadata(_0x28e1d8(0x1b2),[share_dividents_1[_0x28e1d8(0x1dd)],share_fda_1[_0x28e1d8(0x1e2)],share_halts_1[_0x28e1d8(0x1db)],share_reports_1[_0x28e1d8(0x19c)],share_close_1[_0x28e1d8(0x1a3)]])],Trader),exports[_0x28e1d8(0x1c2)]=Trader;