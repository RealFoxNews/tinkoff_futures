'use strict';const _0x4741fa=_0x2073;(function(_0x288c2d,_0x3b0a4c){const _0x46c829=_0x2073,_0xb5a13f=_0x288c2d();while(!![]){try{const _0x1b11f6=parseInt(_0x46c829(0x9e))/0x1*(-parseInt(_0x46c829(0xa9))/0x2)+parseInt(_0x46c829(0x87))/0x3+-parseInt(_0x46c829(0x99))/0x4*(-parseInt(_0x46c829(0x86))/0x5)+parseInt(_0x46c829(0x8d))/0x6*(-parseInt(_0x46c829(0x85))/0x7)+-parseInt(_0x46c829(0x8b))/0x8*(-parseInt(_0x46c829(0xa2))/0x9)+-parseInt(_0x46c829(0x9c))/0xa+parseInt(_0x46c829(0x8a))/0xb;if(_0x1b11f6===_0x3b0a4c)break;else _0xb5a13f['push'](_0xb5a13f['shift']());}catch(_0xb5ac63){_0xb5a13f['push'](_0xb5a13f['shift']());}}}(_0x4d3c,0xa63ce));function _0x2073(_0x281485,_0x2d37b4){const _0x4d3cb0=_0x4d3c();return _0x2073=function(_0x207366,_0x3b40d6){_0x207366=_0x207366-0x84;let _0x45cb4b=_0x4d3cb0[_0x207366];return _0x45cb4b;},_0x2073(_0x281485,_0x2d37b4);}function _0x4d3c(){const _0x2c6f9e=['RSA-SHA256','decode','GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS','./app.module','exit','crypto','verify','utf8','4oPfhVH','update','createVerify','2018010uyRsbz','__esModule','4PXOFbI','Application\x20is\x20running\x20on:\x20','Ошибка\x20проверки\x20лицензии:','log','693nkXQXD','fernet','NestFactory','error','./ssl/cert.pem','Лицензия\x20истекла.','@nestjs/platform-ws','459924QGzLlZ','WsAdapter','create','21553GwHfxr','1424290VaJKoG','3317526KlzhoN','defineProperty','useWebSocketAdapter','1976469uQfBRM','130648NSSDpZ','assets/license.dll','1998EbFPbH','readFileSync','Цифровая\x20подпись\x20лицензии\x20недействительна.','AppModule'];_0x4d3c=function(){return _0x2c6f9e;};return _0x4d3c();}Object[_0x4741fa(0x88)](exports,_0x4741fa(0x9d),{'value':!![]});const core_1=require('@nestjs/core'),platform_ws_1=require(_0x4741fa(0xa8)),app_module_1=require(_0x4741fa(0x94)),fs_1=require('fs'),crypto_1=require(_0x4741fa(0x96)),Fernet=require(_0x4741fa(0xa3));async function checkLicense(){const _0x36f1bb=_0x4741fa,_0x25060a='TcIBhIEmQ1Nihgjm8W77bmMUYqJcDnxBH9fzeou4K_0=';try{const _0x11e4cc=(0x0,fs_1[_0x36f1bb(0x8e)])(_0x36f1bb(0x8c),_0x36f1bb(0x98)),_0x2ba3b8=(0x0,fs_1[_0x36f1bb(0x8e)])('assets/signature.bin'),_0x59f09f=(0x0,fs_1[_0x36f1bb(0x8e)])('assets/license_public.pem',_0x36f1bb(0x98)),_0x198170=(0x0,crypto_1[_0x36f1bb(0x9b)])(_0x36f1bb(0x91));_0x198170[_0x36f1bb(0x9a)](_0x11e4cc),_0x198170['end']();const _0x33e848=_0x198170[_0x36f1bb(0x97)](_0x59f09f,_0x2ba3b8);if(!_0x33e848)throw new Error(_0x36f1bb(0x8f));const _0x3f67f6=new Fernet['Secret'](_0x25060a),_0x4bdce3=new Fernet['Token']({'secret':_0x3f67f6,'token':_0x11e4cc,'ttl':0x0}),_0x2159e2=_0x4bdce3[_0x36f1bb(0x92)]();if(new Date()<=new Date(_0x2159e2)){}else throw new Error(_0x36f1bb(0xa7));}catch(_0x30af80){console[_0x36f1bb(0xa5)](_0x36f1bb(0xa0),_0x30af80);throw _0x30af80;}}async function bootstrap(){const _0x1a97e2=_0x4741fa;try{await checkLicense();}catch(_0x3cc33c){console['error']('Приложение\x20не\x20может\x20быть\x20запущено:',_0x3cc33c),process[_0x1a97e2(0x95)](0x1);}const _0x4294f7='./ssl/key.pem',_0x354340=_0x1a97e2(0xa6),_0x536d82=(0x0,fs_1['readFileSync'])(_0x354340),_0x40bfed=new crypto_1['X509Certificate'](_0x536d82),_0x346ef1=new Date(_0x40bfed['validTo']),_0x45aa18=new Date(_0x346ef1);_0x45aa18['setMonth'](_0x45aa18['getMonth']()+0xb);_0x45aa18<new Date()&&process[_0x1a97e2(0x95)](0x1);const _0x275bc4={'key':(0x0,fs_1[_0x1a97e2(0x8e)])(_0x4294f7),'cert':_0x536d82},_0x5cab41=await core_1[_0x1a97e2(0xa4)][_0x1a97e2(0x84)](app_module_1[_0x1a97e2(0x90)],{'httpsOptions':_0x275bc4,'cors':![]});_0x5cab41['enableCors']({'origin':!![],'methods':_0x1a97e2(0x93),'credentials':![]}),_0x5cab41[_0x1a97e2(0x89)](new platform_ws_1[(_0x1a97e2(0xaa))](_0x5cab41)),await _0x5cab41['listen'](0x2b67),console[_0x1a97e2(0xa1)](_0x1a97e2(0x9f)+await _0x5cab41['getUrl']());}bootstrap();