'use strict';const _0x55c9c3=_0x4b07;function _0xe6f3(){const _0x220eaf=['TcIBhIEmQ1Nihgjm8W77bmMUYqJcDnxBH9fzeou4K_0=','create','NestFactory','960515EikYHz','18ysgPvf','8CKKwxf','./ssl/key.pem','listen','WsAdapter','Secret','330230HlGOJf','./app.module','getMonth','325963hOkZRV','defineProperty','3233532jkGIzv','fernet','error','utf8','Application\x20is\x20running\x20on:\x20','Ошибка\x20проверки\x20лицензии:','8232161nKeAfh','Token','log','AppModule','Приложение\x20не\x20может\x20быть\x20запущено:','decode','14640687nvphwJ','enableCors','552657yvLOUS','54YGeKKd','825FGnVjx','X509Certificate','useWebSocketAdapter','crypto','@nestjs/core','./ssl/cert.pem','getUrl','exit','readFileSync'];_0xe6f3=function(){return _0x220eaf;};return _0xe6f3();}(function(_0xdbe558,_0x1eac30){const _0x5d3645=_0x4b07,_0x2e49ca=_0xdbe558();while(!![]){try{const _0x3562b4=-parseInt(_0x5d3645(0x176))/0x1+-parseInt(_0x5d3645(0x195))/0x2*(parseInt(_0x5d3645(0x186))/0x3)+parseInt(_0x5d3645(0x178))/0x4+-parseInt(_0x5d3645(0x194))/0x5*(-parseInt(_0x5d3645(0x187))/0x6)+parseInt(_0x5d3645(0x17e))/0x7*(parseInt(_0x5d3645(0x196))/0x8)+parseInt(_0x5d3645(0x184))/0x9+-parseInt(_0x5d3645(0x173))/0xa*(parseInt(_0x5d3645(0x188))/0xb);if(_0x3562b4===_0x1eac30)break;else _0x2e49ca['push'](_0x2e49ca['shift']());}catch(_0x4420ae){_0x2e49ca['push'](_0x2e49ca['shift']());}}}(_0xe6f3,0xd6b39));Object[_0x55c9c3(0x177)](exports,'__esModule',{'value':!![]});const core_1=require(_0x55c9c3(0x18c)),platform_ws_1=require('@nestjs/platform-ws'),app_module_1=require(_0x55c9c3(0x174)),fs_1=require('fs'),crypto_1=require(_0x55c9c3(0x18b)),Fernet=require(_0x55c9c3(0x179));async function checkLicense(){const _0x3fad37=_0x55c9c3,_0x284431=_0x3fad37(0x191);try{const _0x250e64=(0x0,fs_1['readFileSync'])('assets/license.dll',_0x3fad37(0x17b)),_0x1d086c=new Fernet[(_0x3fad37(0x172))](_0x284431),_0x2b5959=new Fernet[(_0x3fad37(0x17f))]({'secret':_0x1d086c,'token':_0x250e64,'ttl':0x0}),_0x460516=_0x2b5959[_0x3fad37(0x183)]();if(new Date()<=new Date(_0x460516)){}else throw new Error('Лицензия\x20недействительна\x20или\x20истекла.');}catch(_0x4c578d){console[_0x3fad37(0x17a)](_0x3fad37(0x17d),_0x4c578d);throw _0x4c578d;}}async function bootstrap(){const _0x585dd0=_0x55c9c3;try{await checkLicense();}catch(_0x47a0b2){console[_0x585dd0(0x17a)](_0x585dd0(0x182),_0x47a0b2),process[_0x585dd0(0x18f)](0x1);}const _0x3a168c=_0x585dd0(0x16f),_0x45411e=_0x585dd0(0x18d),_0x3ef5a4=(0x0,fs_1['readFileSync'])(_0x45411e),_0x58b340=new crypto_1[(_0x585dd0(0x189))](_0x3ef5a4),_0x481982=new Date(_0x58b340['validTo']),_0x4362c3=new Date(_0x481982);_0x4362c3['setMonth'](_0x4362c3[_0x585dd0(0x175)]()+0xb);_0x4362c3<new Date()&&process[_0x585dd0(0x18f)](0x1);const _0x15f4e5={'key':(0x0,fs_1[_0x585dd0(0x190)])(_0x3a168c),'cert':_0x3ef5a4},_0x2fa001=await core_1[_0x585dd0(0x193)][_0x585dd0(0x192)](app_module_1[_0x585dd0(0x181)],{'httpsOptions':_0x15f4e5,'cors':![]});_0x2fa001[_0x585dd0(0x185)]({'origin':!![],'methods':'GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS','credentials':![]}),_0x2fa001[_0x585dd0(0x18a)](new platform_ws_1[(_0x585dd0(0x171))](_0x2fa001)),await _0x2fa001[_0x585dd0(0x170)](0x2b67),console[_0x585dd0(0x180)](_0x585dd0(0x17c)+await _0x2fa001[_0x585dd0(0x18e)]());}function _0x4b07(_0x1b4c0c,_0x3d1074){const _0xe6f3da=_0xe6f3();return _0x4b07=function(_0x4b0707,_0x554c40){_0x4b0707=_0x4b0707-0x16f;let _0x14b7bd=_0xe6f3da[_0x4b0707];return _0x14b7bd;},_0x4b07(_0x1b4c0c,_0x3d1074);}bootstrap();