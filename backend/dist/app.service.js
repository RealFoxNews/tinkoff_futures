'use strict';const _0x3b5835=_0x5d76;(function(_0x593f6b,_0x3e6f68){const _0x68edce=_0x5d76,_0x354251=_0x593f6b();while(!![]){try{const _0x52e6ca=-parseInt(_0x68edce(0x21a))/0x1+-parseInt(_0x68edce(0x20a))/0x2*(-parseInt(_0x68edce(0x222))/0x3)+parseInt(_0x68edce(0x1f3))/0x4*(parseInt(_0x68edce(0x223))/0x5)+parseInt(_0x68edce(0x1fb))/0x6*(parseInt(_0x68edce(0x1fc))/0x7)+-parseInt(_0x68edce(0x219))/0x8*(-parseInt(_0x68edce(0x228))/0x9)+parseInt(_0x68edce(0x217))/0xa+-parseInt(_0x68edce(0x210))/0xb;if(_0x52e6ca===_0x3e6f68)break;else _0x354251['push'](_0x354251['shift']());}catch(_0x3eaf03){_0x354251['push'](_0x354251['shift']());}}}(_0x16c5,0xe304b));var __decorate=this&&this[_0x3b5835(0x202)]||function(_0x1cd07a,_0x5c76eb,_0x1abe0d,_0x431b29){const _0xa36e51=_0x3b5835;var _0x5dee70=arguments[_0xa36e51(0x1f7)],_0x537812=_0x5dee70<0x3?_0x5c76eb:_0x431b29===null?_0x431b29=Object[_0xa36e51(0x1f2)](_0x5c76eb,_0x1abe0d):_0x431b29,_0x1e6ebe;if(typeof Reflect===_0xa36e51(0x221)&&typeof Reflect[_0xa36e51(0x208)]==='function')_0x537812=Reflect[_0xa36e51(0x208)](_0x1cd07a,_0x5c76eb,_0x1abe0d,_0x431b29);else{for(var _0x46dc92=_0x1cd07a[_0xa36e51(0x1f7)]-0x1;_0x46dc92>=0x0;_0x46dc92--)if(_0x1e6ebe=_0x1cd07a[_0x46dc92])_0x537812=(_0x5dee70<0x3?_0x1e6ebe(_0x537812):_0x5dee70>0x3?_0x1e6ebe(_0x5c76eb,_0x1abe0d,_0x537812):_0x1e6ebe(_0x5c76eb,_0x1abe0d))||_0x537812;}return _0x5dee70>0x3&&_0x537812&&Object[_0xa36e51(0x1f8)](_0x5c76eb,_0x1abe0d,_0x537812),_0x537812;},__metadata=this&&this[_0x3b5835(0x215)]||function(_0x976208,_0x32dc3a){const _0xd77f20=_0x3b5835;if(typeof Reflect===_0xd77f20(0x221)&&typeof Reflect[_0xd77f20(0x207)]===_0xd77f20(0x22d))return Reflect[_0xd77f20(0x207)](_0x976208,_0x32dc3a);},AppService_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[_0x3b5835(0x20d)]=void 0x0;const common_1=require(_0x3b5835(0x22a)),fs=require('fs'),path=require(_0x3b5835(0x1f5)),rxjs_1=require(_0x3b5835(0x20c)),trader_1=require('./trader/trader/trader'),merge_util_1=require(_0x3b5835(0x220));function _0x5d76(_0xf7ece6,_0x15e8d3){const _0x16c5a7=_0x16c5();return _0x5d76=function(_0x5d76e0,_0x1c14e9){_0x5d76e0=_0x5d76e0-0x1f2;let _0x1efb07=_0x16c5a7[_0x5d76e0];return _0x1efb07;},_0x5d76(_0xf7ece6,_0x15e8d3);}let AppService=AppService_1=class AppService{constructor(_0x147ad5){const _0x54cbb5=_0x3b5835;this[_0x54cbb5(0x22c)]=_0x147ad5,this[_0x54cbb5(0x206)]=new common_1[(_0x54cbb5(0x1f6))](AppService_1[_0x54cbb5(0x22b)]),this[_0x54cbb5(0x224)]=path[_0x54cbb5(0x214)](__dirname,'..',_0x54cbb5(0x204)),this[_0x54cbb5(0x209)]=new rxjs_1[(_0x54cbb5(0x205))](this[_0x54cbb5(0x218)]()),fs[_0x54cbb5(0x21f)](this[_0x54cbb5(0x224)],()=>{const _0x48a7aa=_0x54cbb5;try{const _0x2372da=this[_0x48a7aa(0x218)]();this[_0x48a7aa(0x209)][_0x48a7aa(0x1ff)](_0x2372da),this[_0x48a7aa(0x22c)][_0x48a7aa(0x203)](_0x2372da);}catch(_0xe02adf){this[_0x48a7aa(0x206)]['error']('Failed\x20to\x20reload\x20config',_0xe02adf);}});}[_0x3b5835(0x218)](){const _0x2b0481=_0x3b5835,_0x5b50cf=fs[_0x2b0481(0x21d)](this[_0x2b0481(0x224)],{'encoding':_0x2b0481(0x216)});return JSON['parse'](_0x5b50cf[_0x2b0481(0x200)]());}[_0x3b5835(0x1fd)](){const _0xe6862b=_0x3b5835;return Promise['resolve'](this['settings$'][_0xe6862b(0x20b)]());}[_0x3b5835(0x213)](){const _0x466f7d=_0x3b5835;return this[_0x466f7d(0x209)][_0x466f7d(0x226)]();}[_0x3b5835(0x211)](_0x17578d){const _0x3965e6=_0x3b5835;if(_0x17578d[_0x3965e6(0x21c)]){if(_0x17578d[_0x3965e6(0x21c)][_0x3965e6(0x21b)]===null)this[_0x3965e6(0x22c)]['stopTrading']();if(_0x17578d[_0x3965e6(0x21c)][_0x3965e6(0x1f9)]===null)this[_0x3965e6(0x22c)][_0x3965e6(0x1fa)]();}return new Promise((_0x329b2f,_0x3e4023)=>{const _0x132ed0=_0x3965e6;try{const _0x4871dc=fs[_0x132ed0(0x21d)](this['configPath'],{'encoding':_0x132ed0(0x216)}),_0x1fd0cb=(0x0,merge_util_1[_0x132ed0(0x21e)])(JSON[_0x132ed0(0x225)](_0x4871dc[_0x132ed0(0x200)]()),_0x17578d);fs[_0x132ed0(0x227)](this[_0x132ed0(0x224)],JSON[_0x132ed0(0x201)](_0x1fd0cb),_0x132ed0(0x212)),this['settings$'][_0x132ed0(0x1ff)](_0x1fd0cb),this[_0x132ed0(0x22c)][_0x132ed0(0x203)](_0x1fd0cb),_0x329b2f(_0x1fd0cb);}catch(_0x120dc5){_0x3e4023(_0x120dc5);}});}async[_0x3b5835(0x20e)](){const _0x7669b3=_0x3b5835;return await this[_0x7669b3(0x22c)]['getAccounts']();}async[_0x3b5835(0x20f)](){const _0x569aea=_0x3b5835;return await this['trader'][_0x569aea(0x20f)]();}};function _0x16c5(){const _0x812e7d=['merge','watch','./trader/utils/merge.util','object','906810FiOlOI','3155SqirUc','configPath','parse','asObservable','writeFileSync','7801587KegLoV','Injectable','@nestjs/common','name','trader','function','getOwnPropertyDescriptor','560MndZhm','Trader','path','Logger','length','defineProperty','apiKey','stopApi','550842yYhyUs','126LQEkpK','getSettings','design:paramtypes','next','toString','stringify','__decorate','reloadOptions','config.json','BehaviorSubject','logger','metadata','decorate','settings$','12nOfZiL','getValue','rxjs','AppService','getAccounts','getShares','39449223kVdnoA','patchSetting','utf8','settingsChanges','join','__metadata','utf-8','16854960ffrQih','readConfig','8IYWiZH','1590665MdsgFY','accountId','settings','readFileSync'];_0x16c5=function(){return _0x812e7d;};return _0x16c5();}AppService=AppService_1=__decorate([(0x0,common_1[_0x3b5835(0x229)])(),__metadata(_0x3b5835(0x1fe),[trader_1[_0x3b5835(0x1f4)]])],AppService),exports[_0x3b5835(0x20d)]=AppService;