{
  "name": "NestJS and Angular Project",
  "build": { "dockerfile": "Dockerfile", "context": "." },
  "features": {
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },
  "containerEnv": { "NODE_OPTIONS": "--openssl-legacy-provider" },

  "containerUser": "node",
  "remoteUser": "node",

  "forwardPorts": [4200, 8080, 11111],
  "portsAttributes": {
    "4200": { "label": "frontend", "protocol": "https", "onAutoForward": "openBrowser" },
    "8080": { "label": "backend",  "protocol": "https", "onAutoForward": "notify" },
    "11111": { "label": "ws/api",  "protocol": "https", "onAutoForward": "notify" }
  },

  "postCreateCommand": "bash .devcontainer/postCreate.sh",
  "waitFor": "postCreateCommand",
  "postAttachCommand": "bash .devcontainer/postAttach.sh"
}
